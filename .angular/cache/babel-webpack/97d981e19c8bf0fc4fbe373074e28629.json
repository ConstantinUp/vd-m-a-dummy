{"ast":null,"code":"import _classCallCheck from \"/home/constantin/workspace/vd-m-a-dummy/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/constantin/workspace/vd-m-a-dummy/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { Action } from \"../vdma_classes/Action\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"../vdma_classes/Action\";\n\nfunction ActionFormComponent_mat_form_field_4_mat_option_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var predefinedAction_r6 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", predefinedAction_r6);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", predefinedAction_r6.actionID, \" - \", predefinedAction_r6.actionDescription, \" \");\n  }\n}\n\nfunction ActionFormComponent_mat_form_field_4_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r8 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"mat-form-field\");\n    i0.ɵɵelementStart(1, \"mat-select\", 13, 14);\n    i0.ɵɵlistener(\"selectionChange\", function ActionFormComponent_mat_form_field_4_Template_mat_select_selectionChange_1_listener() {\n      i0.ɵɵrestoreView(_r8);\n\n      var _r4 = i0.ɵɵreference(2);\n\n      var ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.newSelection(_r4.value);\n    });\n    i0.ɵɵtemplate(3, ActionFormComponent_mat_form_field_4_mat_option_3_Template, 2, 3, \"mat-option\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.globalActionListMirror);\n  }\n}\n\nfunction ActionFormComponent_mat_option_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var blockingType_r9 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", blockingType_r9);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", blockingType_r9, \" \");\n  }\n}\n\nfunction ActionFormComponent_mat_option_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var triggerPointType_r10 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", triggerPointType_r10);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", triggerPointType_r10, \" \");\n  }\n}\n\nfunction ActionFormComponent_mat_option_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var durationType_r11 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", durationType_r11);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", durationType_r11, \" \");\n  }\n}\n\nexport var ActionFormComponent = /*#__PURE__*/function () {\n  function ActionFormComponent(dialogRef, action) {\n    _classCallCheck(this, ActionFormComponent);\n\n    this.dialogRef = dialogRef;\n    this.action = action;\n    this.globalActionListMirror = [];\n    this.blockingTypes = Action.blockingTypes;\n    this.triggerPointTypes = Action.triggerPointTypes;\n    this.durationTypes = Action.durationTypes;\n  }\n\n  _createClass(ActionFormComponent, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      this.globalActionListMirror = this.getGlobalActionList();\n      console.log(this.triggerPointTypes);\n    }\n  }, {\n    key: \"addActionToGlobalActionList\",\n    value: function addActionToGlobalActionList(action) {\n      if (ActionFormComponent.globalActionList.some(function (actionInList) {\n        return actionInList.actionID === action.actionID;\n      })) return;\n      var actionCopy = Object.assign({}, action);\n      ActionFormComponent.globalActionList.push(actionCopy);\n    }\n  }, {\n    key: \"getGlobalActionList\",\n    value: function getGlobalActionList() {\n      return ActionFormComponent.globalActionList;\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      this.dialogRef.close();\n    }\n  }, {\n    key: \"save\",\n    value: function save() {\n      this.addActionToGlobalActionList(this.action);\n      this.dialogRef.close(this.action);\n    }\n  }, {\n    key: \"newSelection\",\n    value: function newSelection(selectedAction) {\n      Object.assign(this.action, selectedAction);\n    }\n  }]);\n\n  return ActionFormComponent;\n}();\nActionFormComponent.globalActionList = [{\n  actionID: \"blink0\",\n  actionName: \"blink\",\n  actionDescription: \"Grün blinken\"\n}, {\n  actionID: \"lift1\",\n  actionName: \"lift\",\n  actionDescription: \"Hub heben\",\n  actionParameter: JSON.stringify({\n    direction: \"up\"\n  })\n}, {\n  actionID: \"lift2\",\n  actionName: \"lift\",\n  actionDescription: \"Hub senken\",\n  actionParameter: JSON.stringify({\n    direction: \"down\"\n  })\n}, {\n  actionID: \"wait3\",\n  actionName: \"wait\",\n  actionDescription: \"Auf Türfreigabe warten\",\n  actionParameter: JSON.stringify({\n    blockingType: \"hard\",\n    unlockClient: \"door_1\"\n  })\n}, {\n  actionID: \"pick4\",\n  actionName: \"pick\",\n  actionDescription: \"KLT aufnehmen\",\n  actionParameter: JSON.stringify({\n    blockingType: \"hard\"\n  })\n}, {\n  actionID: \"drop5\",\n  actionName: \"drop\",\n  actionDescription: \"KLT abliefern\",\n  actionParameter: JSON.stringify({\n    blockingType: \"hard\"\n  })\n}];\n\nActionFormComponent.ɵfac = function ActionFormComponent_Factory(t) {\n  return new (t || ActionFormComponent)(i0.ɵɵdirectiveInject(i1.MatDialogRef), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA));\n};\n\nActionFormComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ActionFormComponent,\n  selectors: [[\"app-action-form\"]],\n  decls: 29,\n  vars: 16,\n  consts: [[\"mat-dialog-title\", \"\"], [\"mat-dialog-content\", \"\"], [\"id\", \"formContainer\"], [4, \"ngIf\"], [\"matInput\", \"\", \"placeholder\", \"Aktions-ID\", 3, \"ngModel\", \"ngModelChange\"], [\"matInput\", \"\", \"placeholder\", \"Aktionsname\", 3, \"ngModel\", \"ngModelChange\"], [\"placeholder\", \"Blocking Type\", 3, \"ngModel\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"placeholder\", \"Art des Triggers\", 3, \"ngModel\", \"ngModelChange\"], [\"matInput\", \"\", \"type\", \"number\", 3, \"placeholder\", \"ngModel\", \"ngModelChange\"], [\"placeholder\", \"Art der Dauer\", 3, \"ngModel\", \"ngModelChange\"], [\"matInput\", \"\", \"placeholder\", \"Aktionsparameter als JSON\", 3, \"ngModel\", \"ngModelChange\"], [\"mat-raised-button\", \"\", 3, \"click\"], [\"placeholder\", \"Gespeicherte Aktionen...\", 3, \"selectionChange\"], [\"actionPicker\", \"\"], [3, \"value\"]],\n  template: function ActionFormComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtext(1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\", 1);\n      i0.ɵɵelementStart(3, \"div\", 2);\n      i0.ɵɵtemplate(4, ActionFormComponent_mat_form_field_4_Template, 4, 1, \"mat-form-field\", 3);\n      i0.ɵɵelementStart(5, \"mat-form-field\");\n      i0.ɵɵelementStart(6, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function ActionFormComponent_Template_input_ngModelChange_6_listener($event) {\n        return ctx.action.actionID = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"mat-form-field\");\n      i0.ɵɵelementStart(8, \"input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function ActionFormComponent_Template_input_ngModelChange_8_listener($event) {\n        return ctx.action.actionName = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"mat-form-field\");\n      i0.ɵɵelementStart(10, \"mat-select\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function ActionFormComponent_Template_mat_select_ngModelChange_10_listener($event) {\n        return ctx.action.blockingType = $event;\n      });\n      i0.ɵɵtemplate(11, ActionFormComponent_mat_option_11_Template, 2, 2, \"mat-option\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"mat-form-field\");\n      i0.ɵɵelementStart(13, \"mat-select\", 8);\n      i0.ɵɵlistener(\"ngModelChange\", function ActionFormComponent_Template_mat_select_ngModelChange_13_listener($event) {\n        return ctx.action.triggerPointType = $event;\n      });\n      i0.ɵɵtemplate(14, ActionFormComponent_mat_option_14_Template, 2, 2, \"mat-option\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"mat-form-field\");\n      i0.ɵɵelementStart(16, \"input\", 9);\n      i0.ɵɵlistener(\"ngModelChange\", function ActionFormComponent_Template_input_ngModelChange_16_listener($event) {\n        return ctx.action.triggerPointValue = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"mat-form-field\");\n      i0.ɵɵelementStart(18, \"mat-select\", 10);\n      i0.ɵɵlistener(\"ngModelChange\", function ActionFormComponent_Template_mat_select_ngModelChange_18_listener($event) {\n        return ctx.action.durationType = $event;\n      });\n      i0.ɵɵtemplate(19, ActionFormComponent_mat_option_19_Template, 2, 2, \"mat-option\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"mat-form-field\");\n      i0.ɵɵelementStart(21, \"input\", 9);\n      i0.ɵɵlistener(\"ngModelChange\", function ActionFormComponent_Template_input_ngModelChange_21_listener($event) {\n        return ctx.action.durationValue = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"mat-form-field\");\n      i0.ɵɵelementStart(23, \"input\", 11);\n      i0.ɵɵlistener(\"ngModelChange\", function ActionFormComponent_Template_input_ngModelChange_23_listener($event) {\n        return ctx.action.actionParameter = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"mat-dialog-actions\");\n      i0.ɵɵelementStart(25, \"button\", 12);\n      i0.ɵɵlistener(\"click\", function ActionFormComponent_Template_button_click_25_listener() {\n        return ctx.cancel();\n      });\n      i0.ɵɵtext(26, \"Abbrechen\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"button\", 12);\n      i0.ɵɵlistener(\"click\", function ActionFormComponent_Template_button_click_27_listener() {\n        return ctx.save();\n      });\n      i0.ɵɵtext(28, \"Speichern\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵtextInterpolate2(\"\", ctx.action.actionID, \" - \", ctx.action.actionDescription, \"\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.globalActionListMirror.length > 0);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.action.actionID);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.action.actionName);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.action.blockingType);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.blockingTypes);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.action.triggerPointType);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.triggerPointTypes);\n      i0.ɵɵadvance(2);\n      i0.ɵɵpropertyInterpolate(\"placeholder\", ctx.action.triggerPointType == \"time\" ? \"Triggerzeitpunkt (s)\" : \"Triggerabstand (m)\");\n      i0.ɵɵproperty(\"ngModel\", ctx.action.triggerPointValue);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.action.durationType);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.durationTypes);\n      i0.ɵɵadvance(2);\n      i0.ɵɵpropertyInterpolate(\"placeholder\", ctx.action.durationType == \"time\" ? \"Dauer (s)\" : \"Dauer (m)\");\n      i0.ɵɵproperty(\"ngModel\", ctx.action.durationValue);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.action.actionParameter);\n    }\n  },\n  styles: [\"input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}#formContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column}#formContainer[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}\"]\n});","map":null,"metadata":{},"sourceType":"module"}