{"ast":null,"code":"import _classCallCheck from \"/home/constantin/workspace/vd-m-a-dummy/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/constantin/workspace/vd-m-a-dummy/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar __metadata = this && this.__metadata || function (k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\nvar _a, _b, _c, _d, _e;\n\nimport { Component, Input } from '@angular/core';\nimport { OrderCommComponent } from \"../order-comm/order-comm.component\";\nimport { MatDialog, MatDialogConfig, MatSnackBar } from \"@angular/material\";\nimport { RouteEditorComponent } from \"../route-editor/route-editor.component\";\n\nvar RouteFormComponent = /*#__PURE__*/function () {\n  function RouteFormComponent(snackBar, routeEditor, orderComm) {\n    _classCallCheck(this, RouteFormComponent);\n\n    this.snackBar = snackBar;\n    this.routeEditor = routeEditor;\n    this.orderComm = orderComm;\n  }\n\n  _createClass(RouteFormComponent, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      this.selectedRoute = this.routes[0];\n    }\n  }, {\n    key: \"createOrder\",\n    value: function createOrder(route) {\n      if (route.startNode === undefined) {\n        this.snackBar.open('Kein Startpunkt für Route angegeben. Auftragserstellung nicht möglich.', 'OK');\n      } else if (route.endNode === undefined) {\n        this.snackBar.open('Kein Endpunkt für Route angegeben. Auftragserstellung nicht möglich.', 'OK');\n      } else {\n        //this.orderComm.createJson(route);\n        var dialogConfig = new MatDialogConfig();\n        dialogConfig.data = {\n          route: route,\n          mqtt: this.mqtt\n        };\n        var dialogRef = this.orderComm.open(OrderCommComponent, dialogConfig); //dialogRef.componentInstance.createJson(route);\n      }\n\n      console.log(route);\n    }\n    /*\n      onChange(route) {\n        this.selectedRoute = route;\n      }*/\n\n  }, {\n    key: \"onCallback\",\n    value: function onCallback(event) {\n      this.routeToSend = null;\n    }\n  }, {\n    key: \"editRoute\",\n    value: function editRoute(route) {\n      var dialogConfig = new MatDialogConfig();\n      var routeCopy = Object.assign({}, route);\n      var routeEditorDialogData;\n      routeEditorDialogData = {\n        route: routeCopy,\n        ftfs: this.ftfs\n      };\n      routeEditorDialogData.route = routeCopy;\n      routeEditorDialogData.ftfs = this.ftfs;\n      dialogConfig.data = routeEditorDialogData;\n      var dialogRef = this.routeEditor.open(RouteEditorComponent, dialogConfig);\n      dialogRef.afterClosed().subscribe(function (returnedSettings) {\n        if (returnedSettings) {\n          Object.assign(route, returnedSettings.route);\n        }\n      });\n    }\n  }]);\n\n  return RouteFormComponent;\n}();\n\n__decorate([Input(), __metadata(\"design:type\", Array)], RouteFormComponent.prototype, \"routes\", void 0);\n\n__decorate([Input(), __metadata(\"design:type\", typeof (_b = typeof Paho !== \"undefined\" && (_a = Paho.MQTT) !== void 0 && _a.Client) === \"function\" ? _b : Object)], RouteFormComponent.prototype, \"mqtt\", void 0);\n\n__decorate([Input(), __metadata(\"design:type\", Array)], RouteFormComponent.prototype, \"ftfs\", void 0);\n\nRouteFormComponent = __decorate([Component({\n  selector: 'app-route-form',\n  templateUrl: './route-form.component.html',\n  styleUrls: ['./route-form.component.css']\n}), __metadata(\"design:paramtypes\", [typeof (_c = typeof MatSnackBar !== \"undefined\" && MatSnackBar) === \"function\" ? _c : Object, typeof (_d = typeof MatDialog !== \"undefined\" && MatDialog) === \"function\" ? _d : Object, typeof (_e = typeof MatDialog !== \"undefined\" && MatDialog) === \"function\" ? _e : Object])], RouteFormComponent);\nexport { RouteFormComponent };","map":null,"metadata":{},"sourceType":"module"}